

  
      
          <div class="heading-section pl-md-4 pt-md-5">
            <span class="subheading">Empresas Afiliadas</span>
            <h2 class="mb-4">Nosotros somos los mejores</h2>
          </div>

         
          <!-- <ul class="list-group"> -->
  
            <!-- <li *ngFor="let item of collection.data; let i=index" class="list-group-item">  -->
            <!-- <li *ngFor="let item of this.productos; let i=index" class="list-group-item"> -->
              <!-- {{i+1}} &nbsp; {{item.ruc}} &nbsp; {{item.departamento}} &nbsp; {{item.emp_aprod[0].prod_ccod}} &nbsp;
              <button (click)="verEmpresa(i)" type="button" class="btn btn-primary btn-block">
                ver más...
              </button> 
              
            </li> --> 
            <!-- <mat-list>
              <mat-list-item *ngFor="let item of collection.data; let i = index">
                
                <img *ngIf="item.logo === ''; else imagenblock" matListAvatar src="../../../assets/images/invoice_logo.png" alt="">
                <ng-template #imagenblock>
                  <img matListAvatar src={{item.logo}} alt="">
                </ng-template>
                <h3 matLine> {{item.razon_social}} </h3>
                
                <p matLine>
                  <span> {{item.nombre_comercial}} </span> <br>
                  <span *ngIf="item.categoria.cat_cdes !== undefined ; then thenBlock else categoriablock"> </span> <br>
                    <ng-template #thenBlock>
                      <span>{{item.categoria.cat_cdes}}</span>
                    </ng-template>
                    <ng-template #categoriablock>
                      <span> Sin categoría  </span> <br>
                    </ng-template> 
                   
                  <ngb-rating [rate]="item.calificacion"></ngb-rating> 
                </p>
                <div class="example-button-row">
                  <button (click)="verEmpresa(i)" type="button" class="btn btn-primary btn-block">
                    Ver Productos
                  </button> 
                </div>
              </mat-list-item>
            </mat-list> -->
            
          <!-- </ul> -->

          <!-- <div class="cases-wrap d-md-flex align-items-center">
            <div class="img" style="background-image: url(../../../assets/images/invoice_logo.png);"></div>
            <div class="text pl-md-5">
              <span class="cat">Strategy</span>
              <h2>Business activities and care for the environment</h2>
              <p>A small river named Duden flows by their place and supplies it with the necessary regelialia. It is a paradisematic country, in which roasted parts of sentences fly into your mouth.</p>
              <p><a href="#" class="btn btn-primary">Read more</a></p>
            </div>
          </div> -->


          <!-- combo box departamentos -->
          <div>
            <mat-form-field appearance="fill">
              <mat-label>Seleccione una Departamento</mat-label>
              <mat-select [(ngModel)]="departamentoselected" name="departamento" [disableOptionCentering]="true" (selectionChange)="filtrarProvincias()" >
                <!-- <mat-select-filter [placeholder]="'Filter'" [displayMember]="'name'" [array]="departamentoList" (filteredReturn)="filteredListdepartamento =$event"></mat-select-filter>   -->
                
                <mat-option *ngFor="let item of this.departamentos" [value]="item.id_departamento">
                    {{item.nombre_departamento}}
                </mat-option>
              </mat-select>
            </mat-form-field>
            
            <p>You selected: {{departamentoselected}}</p>
          </div>
          <!-- combo box provincias -->
          <div>
            <mat-form-field appearance="fill">
              <mat-label>Seleccione una Provincia</mat-label>
              <mat-select [(ngModel)]="provinciaselected" name="provincia" [disableOptionCentering]="true" (selectionChange)="filtrarDistritos()" >
                <!-- <mat-select-filter [placeholder]="'Filter'" [displayMember]="'name'" [array]="provinciaList" (filteredReturn)="filteredListprovincia =$event"></mat-select-filter>   -->
                
                <mat-option *ngFor="let item of provinciafiltered" [value]="item.id_provincia">
                    {{item.nombre_provincia}}
                </mat-option>
              </mat-select>
            </mat-form-field>
            
            <p>You selected: {{provinciaselected}}</p>
          </div>
          <!-- combo box distritos -->
          <div>
            <mat-form-field appearance="fill">
              <mat-label>Seleccione una Distrito</mat-label>
              <mat-select [(ngModel)]="distritoselected" name="distrito" [disableOptionCentering]="true" >
                <!-- <mat-select-filter [placeholder]="'Filter'" [displayMember]="'name'" [array]="distritoList" (filteredReturn)="filteredListdistrito =$event"></mat-select-filter>   -->
                
                <mat-option *ngFor="let item of distritofiltered" [value]="item.nombre_distrito">
                    {{item.nombre_distrito}}
                </mat-option>
              </mat-select>
            </mat-form-field>
            
            <p>You selected: {{distritoselected}}</p>
          </div>


          <!-- Lista de Empresas -->
          <div *ngFor="let item of collection.data; let i=index " fxLayout="row"  [style.margin-top]="'12px'" fxLayoutAlign="space-around center" >
            <mat-card>
              
              <img *ngIf="item.logo === ''; else imagenblock" matListAvatar src="../../../assets/images/invoice_logo.png" alt="" width="60px">
              <ng-template #imagenblock>
                <img matListAvatar src={{item.logo}} alt="" width="60px">
              </ng-template>
            </mat-card>
            
            <mat-card >
              <div class="mat-body-2"> {{item.nombre_comercial}}</div>
              <mat-list>
                 <!--  <div matLine *ngIf="item.nombre_comercial !== '-'; else comercialblock">
                    <div>{{item.nombre_comercial}}</div>  
                    <ng-template #comercialblock>
                      <div>Sin nombre comercial</div>
                    </ng-template>
                  </div> -->

                  <div>{{item.razon_social}}</div> 
                  <!-- <div *ngIf="item.categoria.cat_cdes !== undefined ; then thenBlock else categoriablock" matLine>
                    <ng-template #thenBlock>
                      {{item.categoria.cat_cdes}}
                    </ng-template>
                    <ng-template #categoriablock>
                      Sin categoría
                    </ng-template>  
                        
                  </div> -->
                  <div>{{item.descripcion}}</div>
                  <div matLine>
                    <ngb-rating [rate]="item.calificacion"></ngb-rating> 
                  </div>
                  <div matLine>
                    <button mat-button (click)="verEmpresa(i)">Ver Productos</button>   
                  </div>
              </mat-list>
            </mat-card>
          </div> 

        
  
    

        
        
